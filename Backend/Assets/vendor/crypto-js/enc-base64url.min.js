!function(r,e){"object"==typeof exports?module.exports=exports=e(require("./core")):"function"==typeof define&&define.amd?define(["./core"],e):e(r.CryptoJS)}(this,function(r){var v;return v=r.lib.WordArray,r.enc.Base64url={stringify:function(r,e){for(var t=r.words,a=r.sigBytes,o=(e=void 0===e?!0:e)?this._safe_map:this._map,i=(r.clamp(),[]),n=0;n<a;n+=3)for(var s=(t[n>>>2]>>>24-n%4*8&255)<<16|(t[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|t[n+2>>>2]>>>24-(n+2)%4*8&255,f=0;f<4&&n+.75*f<a;f++)i.push(o.charAt(s>>>6*(3-f)&63));var c=o.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(r,e){var t=r.length,a=(e=void 0===e?!0:e)?this._safe_map:this._map;if(!(o=this._reverseMap))for(var o=this._reverseMap=[],i=0;i<a.length;i++)o[a.charCodeAt(i)]=i;for(var n,s,e=a.charAt(64),f=(!e||-1!==(e=r.indexOf(e))&&(t=e),r),c=t,h=o,p=[],u=0,d=0;d<c;d++)d%4&&(s=h[f.charCodeAt(d-1)]<<d%4*2,n=h[f.charCodeAt(d)]>>>6-d%4*2,s=s|n,p[u>>>2]|=s<<24-u%4*8,u++);return v.create(p,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},r.enc.Base64url});